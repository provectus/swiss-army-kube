"apiVersion": "argoproj.io/v1alpha1"
"kind": "Application"
"metadata":
  "name": "thanos"
  "namespace": "argocd"
"spec":
  "destination":
    "namespace": "monitoring"
    "server": "https://kubernetes.default.svc"
  "project": "default"
  "source":
    "chart": "thanos"
    "helm":
      "parameters":
      - "name": "bucketweb.enabled"
        "value": "true"
      - "name": "compactor.enabled"
        "value": "true"
      - "name": "compactor.persistence.size"
        "value": "10Gi"
      - "name": "compactor.retentionResolution1h"
        "value": "10y"
      - "name": "compactor.retentionResolution5m"
        "value": "30d"
      - "name": "compactor.retentionResolutionRaw"
        "value": "30d"
      - "name": "existingObjstoreSecret"
        "value": "thanos-objstore-config"
      - "name": "existingServiceAccount"
        "value": "thanos"
      - "name": "metrics.enabled"
        "value": "true"
      - "name": "minio.accessKey.password"
        "value": "thanosStorage"
      - "name": "minio.enabled"
        "value": "false"
      - "name": "minio.secretKey.password"
        "value": ""
      - "name": "namespace"
        "value": "monitoring"
      - "name": "query.enabled"
        "value": "true"
      - "name": "query.ingress.enabled"
        "value": "false"
      - "name": "query.ingress.grpc.enabled"
        "value": "false"
      - "name": "query.sdConfig"
        "value": |
          - "targets":
            - "kube-prometheus-prometheus-thanos:10901"
      - "name": "queryFrontend.enabled"
        "value": "true"
      - "name": "queryFrontend.ingress.certManager"
        "value": "true"
      - "name": "queryFrontend.ingress.enabled"
        "value": "true"
      - "name": "queryFrontend.ingress.hostname"
        "value": "thanos.swiss-army-dkharlamov.sak.ninja"
      - "name": "queryFrontend.ingress.tls"
        "value": "true"
      - "name": "receive.enabled"
        "value": "true"
      - "name": "ruler.enabled"
        "value": "false"
      - "name": "storegateway.enabled"
        "value": "true"
    "repoURL": "https://charts.bitnami.com/bitnami"
    "targetRevision": "5.1.0"
  "syncPolicy":
    "automated":
      "prune": true
      "selfHeal": true
